<!DOCTYPE html><html><head><meta charset="UTF-8"><meta content="minimum-scale=1.0, width=device-width" name="viewport"><meta name="description" content="Add more complex conditions"><title>Conditions Part 3 - Query.apex</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto+Mono"><link rel="stylesheet" href="/query-apex/vendor/galano/galano.css"><link rel="stylesheet" href="/query-apex/vendor/icon-12/icon-12.css"><link rel="stylesheet" href="/query-apex/vendor/icon-16/icon-16.css"><link rel="stylesheet" href="/query-apex/vendor/senna/senna.css"><link rel="stylesheet" href="/query-apex/vendor/codemirror/lib/codemirror.css"><link rel="stylesheet" href="/query-apex/vendor/codemirror/theme/dracula.css"><script src="/query-apex/js/bundles/shared.electric.js"></script><script src="/query-apex/vendor/senna/senna.js"></script><script src="/query-apex/vendor/codemirror/lib/codemirror.js"></script><script src="/query-apex/vendor/codemirror/mode/css/css.js"></script><script src="/query-apex/vendor/codemirror/mode/javascript/javascript.js"></script><script src="/query-apex/vendor/codemirror/mode/xml/xml.js"></script><link rel="stylesheet" href="/query-apex/styles/main.css"></head><body data-senna=""><div data-senna-surface="" id="wrapper"><div class="senna-loading-bar"></div><div id="pageComponent"><div class=""><main class="content"><div class="tutorial"><div class="sidebar-navigation"><nav class="sidebar"><nav class=""><ul class="sidebar-list"><li class="sidebar-item"><a class="sidebar-link" href="/query-apex/tutorials/getting_started/step_1.html" data-time="90"><span class="before"></span><span class="tutorial-step">1</span><span class="section-title">Installation</span><span class="after"></span></a></li><li class="sidebar-item"><a class="sidebar-link" href="/query-apex/tutorials/getting_started/step_2.html" data-time="90"><span class="before"></span><span class="tutorial-step">2</span><span class="section-title">Simple queries</span><span class="after"></span></a></li><li class="sidebar-item"><a class="sidebar-link" href="/query-apex/tutorials/getting_started/step_3.html" data-time="90"><span class="before"></span><span class="tutorial-step">3</span><span class="section-title">Fields Selection</span><span class="after"></span></a></li><li class="sidebar-item"><a class="sidebar-link" href="/query-apex/tutorials/getting_started/step_4.html" data-time="90"><span class="before"></span><span class="tutorial-step">4</span><span class="section-title">Fields Selection Continued</span><span class="after"></span></a></li><li class="sidebar-item"><a class="sidebar-link" href="/query-apex/tutorials/getting_started/step_5.html" data-time="150"><span class="before"></span><span class="tutorial-step">5</span><span class="section-title">Conditions</span><span class="after"></span></a></li><li class="sidebar-item"><a class="sidebar-link" href="/query-apex/tutorials/getting_started/step_6.html" data-time="90"><span class="before"></span><span class="tutorial-step">6</span><span class="section-title">Conditions Part 2</span><span class="after"></span></a></li><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/query-apex/tutorials/getting_started/step_7.html" data-time="180"><span class="before"></span><span class="tutorial-step">7</span><span class="section-title">Conditions Part 3</span><span class="after"></span></a></li><li class="sidebar-item"><a class="sidebar-link" href="/query-apex/tutorials/getting_started/step_8.html" data-time="120"><span class="before"></span><span class="tutorial-step">8</span><span class="section-title">Subqueries</span><span class="after"></span></a></li></ul></nav></nav></div><div class="sidebar-offset"><nav class="topbar topbar-light"><div class="topbar-logo"><a class="topbar-logo-link" href="/query-apex"><span class="topbar-logo-icon icon-16-hammer"></span><h3 class="topbar-logo-text">Query.apex</h3></a></div><nav class="topbar-menu"><button class="topbar-toggle">Menu</button><ul class="topbar-list"><li class="topbar-item"><a class="topbar-link " href="/query-apex/docs/" target="undefined"><span>Docs</span></a></li><li class="topbar-item"><a class="topbar-link topbar-link-selected" href="/query-apex/tutorials/getting_started/step_1.html" target="undefined"><span>Tutorials</span></a></li></ul></nav></nav><div class="container"><h6 class="tutorial-title">Getting started with Query.apex</h6><p class="tutorial-time-remaining"></p><div class="container-blog card"><h2>Conditions Part 3</h2><p>We have learned to add multiple conditions in the previous section, but those conditions were very limited. What if we want to construct a condition with a combination of both boolean operators?</p><p>In order to do that, we have to construct a 'Condition' variable, before combining these conditions with the boolean operations, followed by an 'addCondition' method to link the condition with the query.</p><p>A typical example would be:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">List<account> accounts =
    new Query('Account').
    addCondition(
        Query.doOr(
            Query.conditionEq('Name', 'Sam'),
            Query.doAnd(
                Query.conditionGt('NumberOfEmployees', 0),
                Query.conditionIn('Phone', new Set<string>{'+61 400 000 000'})
            )
        )
    ).
    run();</string></account></code></pre></div><p>This statement is equivalent to:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">List<account> accounts =
    [ SELECT Id FROM Account
      WHERE Name = 'Sam' OR
      (
        NumberOfEmployees &gt; 0 AND
        Phone IN :new Set<string>{'+61 400 000 000'}
      )
    ];</string></account></code></pre></div><p>Let me explain the example step by step. 'Query.conditionXX' are a series static methods that construct a 'Condition' variable, similar to the member methods 'addCondtionXX', these include: 'conditionNotEq', 'conditionIn', 'conditionNotIn', 'conditionLt', 'conditionLe', 'conditionGt', 'conditionGe' and 'conditionLike'.</p><p>Then, we can run boolean operations on any 'Condition' variables. Because the fact that 'AND' and 'OR' have been reserved keyword in apex language, we have to use 'doAnd' and 'doOr' as replacement method names. These two methods are both static methods, with 'Condition' as the return type, so that the return value can be a parameter of another boolean operation.</p><p>A sample code from the example above:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Query.Condition condition =
    Query.doAnd(
        Query.conditionGt('NumberOfEmployees', 0),
        Query.conditionIn('Phone', new Set<string>{'+61 400 000 000'})
    );</string></code></pre></div><p>A more complicated example from above:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Query.Condition condition =
    Query.doOr(
        Query.conditionEq('Name', 'Sam'),
        Query.doAnd(
            Query.conditionGt('NumberOfEmployees', 0),
            Query.conditionIn('Phone', new Set<string>{'+61 400 000 000'})
        )
    );</string></code></pre></div><p>It's also possible to pass up to 4 parameters in each boolean operation:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Query.Condition condition =
    Query.doOr(
        Query.conditionEq('Name', 'Sam'),
        Query.conditionGt('NumberOfEmployees', 0),
        Query.conditionIn('Phone', new Set<string>{'+61 400 000 000'}),
        Query.conditionEq('Email', 'sam@tarly.com')
    );</string></code></pre></div><p>Once we have constructed our Condition variable, we can pass the condition to the query, using its member method 'addCondition'. Let's try a simple condition first:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Query.Condition condition = Query.conditionEq('Name', 'Sam');
List<account> accounts =
    new Query('Account').
    addCondition(condition).
    run();</account></code></pre></div><p>which is indeed equivalent to:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">List<account> accounts =
    new Query('Account').
    addConditionEq('Name', 'Sam').
    run();</account></code></pre></div><p>But this time, we can create more complicated conditions:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Query.Condition condition =
    Query.doOr(
        Query.conditionEq('Name', 'Sam'),
        Query.doAnd(
            Query.conditionGt('NumberOfEmployees', 0),
            Query.conditionIn('Phone', new Set<string>{'+61 400 000 000'})
        )
    );

List<account> accounts =
    new Query('Account').
    addCondition(condition).
    run();</account></string></code></pre></div><p>or we can write it in one statement, which is identical to the first example we saw in this section.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">List<account> accounts =
    new Query('Account').
    addCondition(
        Query.doOr(
            Query.conditionEq('Name', 'Sam'),
            Query.doAnd(
                Query.conditionGt('NumberOfEmployees', 0),
                Query.conditionIn('Phone', new Set<string>{'+61 400 000 000'})
            )
        )
    ).
    run();</string></account></code></pre></div><p>We can still call 'addConditionXX' methods and 'addCondition' simultaneously, which by default, will combine the conditions with boolean 'and' operations, unless calling the 'switchToDisjunction' method explicitly:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">List<account> accounts =
    new Query('Account').
    addCondition(
        Query.doOr(
            Query.conditionEq('Name', 'Sam'),
            Query.conditionGt('NumberOfEmployees', 0)
        )
    ).
    addConditionIn('Phone', new Set<string>{'+61 400 000 000'}).
    run();</string></account></code></pre></div><p>which is equivalent to:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">List<account> accounts =
    new Query('Account').
    addCondition(
        Query.doAnd(
            Query.doOr(
                Query.conditionEq('Name', 'Sam'),
                Query.conditionGt('NumberOfEmployees', 0)
            ),
            Query.conditionIn('Phone', new Set<string>{'+61 400 000 000'})
        )
    ).
    run();</string></account></code></pre></div><p>After this section, you will be capable of creating a query with any complex conditions.</p><input type="hidden" value="Conditions Part 3"><input type="hidden" value="Query.apex"><div class="tutorial-page-nav"><a href="/query-apex/tutorials/getting_started/step_8.html" class="btn btn-accent btn-sm">Done</a></div></div></div></div></div></main></div></div><script src="/query-apex/js/bundles/dFjyR.js"></script><script>var data = '{"pageLocation":"index.children.tutorials.children.getting_started.children.step_7","site":{"title":"Query.apex","githubRepo":"Click-to-Cloud/Query.apex","googleAnalytics":"","index":{"title":"Home","description":"Query.apex provides a flexible and dynamic way of building a SOQL query on the Salesforce platform.","srcFilePath":"src/pages/index.soy","id":"pages","location":"/./","url":"/query-apex/./","children":{"docs":{"title":"Docs","description":"Everything you need to know to get started.","srcFilePath":"src/pages/docs/index.soy","id":"docs","location":"/docs/","url":"/query-apex/docs/","children":{"search":{"title":"Search","description":"Find what you\'re looking for in the documentation.","hidden":true,"srcFilePath":"src/pages/docs/search.soy","id":"search","location":"/docs/search.html","url":"/query-apex/docs/search.html"},"Query":{"children":{"condition":{"title":"Condition","description":"Condition methods in Query","layout":"guide","icon":"code-file","weight":3,"srcFilePath":"src/pages/docs/Query/condition.md","id":"condition","location":"/docs/Query/condition.html","url":"/query-apex/docs/Query/condition.html"},"constructors":{"title":"Constructors","description":"Constructors of Query","layout":"guide","icon":"code-file","weight":1,"srcFilePath":"src/pages/docs/Query/constructors.md","id":"constructors","location":"/docs/Query/constructors.html","url":"/query-apex/docs/Query/constructors.html"},"field":{"title":"Field Selection","description":"Field selection methods in Query","layout":"guide","icon":"code-file","weight":2,"srcFilePath":"src/pages/docs/Query/field.md","id":"field","location":"/docs/Query/field.html","url":"/query-apex/docs/Query/field.html"},"subquery":{"title":"Subquery","description":"Subquery methods in Query","layout":"guide","icon":"code-file","weight":4,"srcFilePath":"src/pages/docs/Query/subquery.md","id":"subquery","location":"/docs/Query/subquery.html","url":"/query-apex/docs/Query/subquery.html"}},"title":"Query class","description":"Public methods in Query","layout":"guide","icon":"code-file","weight":1,"srcFilePath":"src/pages/docs/Query/index.md","id":"Query","location":"/docs/Query/","url":"/query-apex/docs/Query/","childIds":["constructors","field","condition","subquery"]}},"childIds":["Query","search"]},"tutorials":{"title":"Tutorials","description":"The tutorials","url":"/query-apex/tutorials/getting_started/step_1.html","layout":false,"srcFilePath":"src/pages/tutorials/index.soy","id":"tutorials","location":"/tutorials/","customURL":true,"children":{"getting_started":{"title":"Getting Started","description":"The Getting Started Tutorial","tutorialTitle":"Getting started with Query.apex","url":"/query-apex/tutorials/getting_started/step_1.html","layout":false,"srcFilePath":"src/pages/tutorials/getting_started/index.soy","id":"getting_started","location":"/tutorials/getting_started/","customURL":true,"children":{"step_1":{"title":"Installation","description":"Include Apex files","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":1,"srcFilePath":"src/pages/tutorials/getting_started/step_1.md","id":"step_1","location":"/tutorials/getting_started/step_1.html","url":"/query-apex/tutorials/getting_started/step_1.html"},"step_2":{"title":"Simple queries","description":"Some simple queries","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":2,"srcFilePath":"src/pages/tutorials/getting_started/step_2.md","id":"step_2","location":"/tutorials/getting_started/step_2.html","url":"/query-apex/tutorials/getting_started/step_2.html"},"step_3":{"title":"Fields Selection","description":"Select specific fields","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":3,"srcFilePath":"src/pages/tutorials/getting_started/step_3.md","id":"step_3","location":"/tutorials/getting_started/step_3.html","url":"/query-apex/tutorials/getting_started/step_3.html"},"step_4":{"title":"Fields Selection Continued","description":"Select parental fields","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":4,"srcFilePath":"src/pages/tutorials/getting_started/step_4.md","id":"step_4","location":"/tutorials/getting_started/step_4.html","url":"/query-apex/tutorials/getting_started/step_4.html"},"step_5":{"title":"Conditions","description":"Add one condition to the query","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":150,"weight":5,"srcFilePath":"src/pages/tutorials/getting_started/step_5.md","id":"step_5","location":"/tutorials/getting_started/step_5.html","url":"/query-apex/tutorials/getting_started/step_5.html"},"step_6":{"title":"Conditions Part 2","description":"Add multiple conditions","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":6,"srcFilePath":"src/pages/tutorials/getting_started/step_6.md","id":"step_6","location":"/tutorials/getting_started/step_6.html","url":"/query-apex/tutorials/getting_started/step_6.html"},"step_7":{"title":"Conditions Part 3","description":"Add more complex conditions","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":180,"weight":7,"srcFilePath":"src/pages/tutorials/getting_started/step_7.md","id":"step_7","location":"/tutorials/getting_started/step_7.html","url":"/query-apex/tutorials/getting_started/step_7.html","active":true},"step_8":{"title":"Subqueries","description":"Querying child relationships","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":120,"weight":8,"srcFilePath":"src/pages/tutorials/getting_started/step_8.md","id":"step_8","location":"/tutorials/getting_started/step_8.html","url":"/query-apex/tutorials/getting_started/step_8.html"}},"childIds":["step_1","step_2","step_3","step_4","step_5","step_6","step_7","step_8"],"active":true}},"childIds":["getting_started"],"active":true}},"childIds":["docs","tutorials"]},"basePath":"/query-apex","topbar":[{"href":"/query-apex/docs/","label":"Docs"},{"href":"/query-apex/tutorials/getting_started/step_1.html","label":"Tutorials","selected":true}]}}'; if (typeof electric !== 'undefined') {electric.init(data);}else {document.addEventListener('DOMContentLoaded', function() {electric.init(data);});}</script></div><script data-senna-track="permanent" src="/query-apex/js/electric/electric.js"></script></body></html>